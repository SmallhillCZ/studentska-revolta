<app-page>
  <app-page-content>
    <h2>Než začnete&hellip;</h2>

    <div class="box">
      <div class="icon">
        <img src="assets/img/icons/location.svg" alt="Telefon" />
      </div>
      <div class="content">
        <h3>Dojděte před budovu Rudolfina, Nádražní&nbsp;28, Praha&nbsp;1</h3>
        <button (click)="openNavigation()">Navigovat</button>
      </div>
    </div>

    <div class="box">
      <div class="icon">
        <img src="assets/img/icons/headphones.svg" alt="Telefon" />
      </div>
      <div class="content">
        <h3>Připojte sluchátka a vyzkoušejte zvuk</h3>
        <div class="test">
          <app-player [track]="testTrack" mode="light"></app-player>
        </div>
      </div>
    </div>

    <div class="box">
      <div class="icon">
        <img src="assets/img/icons/headphones.svg" alt="Telefon" />
      </div>
      <div class="content">
        <h3>Stáhněte si zvukové záznamy</h3>
        <div *ngIf="downloadStatus | async as state" [ngSwitch]="state">
          <button *ngSwitchCase="'not-downloaded'" (click)="download()">Stáhnout</button>
          <p *ngSwitchCase="'downloading'">Stahuji... {{ downloadProgress | async | percent }}</p>
          <p *ngSwitchCase="'checking'">Kontroluji...</p>
          <p *ngSwitchCase="'downloaded'">Staženo.</p>

          <p *ngSwitchCase="'error'">
            Nastala Chyba při stahování.<br />
            <button (click)="download()">Zkusit znovu</button>
          </p>
        </div>

        <p class="mt-3">
          <label *ngIf="(downloadStatus | async) !== 'downloaded'">
            <input type="checkbox" (change)="skipDownload($event)" />
            Přehrávat přímo z internetu
          </label>
        </p>
      </div>
    </div>

    <div class="warning">
      <h2>Prosím dávejte pozor!</h2>
    </div>
  </app-page-content>

  <app-page-footer>
    <button
      class="primary"
      routerLink="/walk"
      [disabled]="!downloadSkipped && (downloadStatus | async) !== 'downloaded'"
    >
      Spustit audiowalk
    </button>
  </app-page-footer>
</app-page>
